test {
    useJUnitPlatform()
}

def zipLocation = "${buildDir}/queues.zip"
def suppliedProjectFolder = "$buildDir/suppliedProject"


task downloadZipFile(type: Download) {
    url = 'https://coursera.cs.princeton.edu/algs4/assignments/queues/queues.zip'
    dest = zipLocation
}

task unpack(type: Copy) {
    dependsOn downloadZipFile
    from zipTree(zipLocation)
    exclude ".idea/"
    into suppliedProjectFolder
}

task runPermutation(type: JavaExec) {
    dependsOn compileJava, unpack
    classpath sourceSets.main.runtimeClasspath
    main = "Permutation"
    args "3"
    standardInput new FileInputStream("$suppliedProjectFolder/permutation4.txt")
}


task zipSolution(type: Zip) {
    archiveFileName = "solution.zip"
    destinationDirectory = file("$buildDir/")
    from "$projectDir/src/main/java"
}
